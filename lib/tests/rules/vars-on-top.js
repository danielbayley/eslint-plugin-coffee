// Generated by CoffeeScript 2.3.1
(function() {
  /**
   * @fileoverview Tests for vars-on-top rule.
   * @author Danny Fritz
   * @author Gyandeep Singh
   */
  'use strict';
  var RuleTester, rule, ruleTester;

  //------------------------------------------------------------------------------
  // Requirements
  //------------------------------------------------------------------------------
  rule = require('../../rules/vars-on-top');

  ({RuleTester} = require('eslint'));

  //------------------------------------------------------------------------------
  // Tests
  //------------------------------------------------------------------------------
  ruleTester = new RuleTester({
    parser: '../../..'
  });

  ruleTester.run('vars-on-top', rule, {
    valid: ['first = 0\nfoo = ->\n  first = 2', 'foo = ->', 'foo = ->\n  first = null\n  if yes\n    first = yes\n  else\n    first = 1', 'foo = ->\n  first = null\n  second = 1\n  {third} = null\n  [fourth] = 1\n  fifth = null\n  {...sixth} = third\n  [seventh...] = null\n  if yes\n    third = yes\n  first = second', 'foo = ->\n  for i in [0...10]\n    alert i', 'foo = ->\n  outer = null\n  inner = ->\n    inner = 1\n    outer = inner\n  outer = 1', 'foo = ->\n  first = null\n  #Hello\n  second = 1\n  first = second', 'foo = ->\n  first = null\n  ###\n      Hello Clarice\n  ###\n  second = 1\n  first = second', 'foo = ->\n  first = null\n  second = 1\n  bar = ->\n    first = null\n    first = 5\n  first = second', 'foo = ->\n  first = null\n  second = 1\n  bar = ->\n    third = null\n    third = 5\n  first = second', 'foo = ->\n  first = null\n  bar = ->\n    third = null\n    third = 5\n  first = 5\n\'}\'', 'foo = ->\n  first = null\n  first.onclick ->\n    third = null\n    third = 5\n  first = 5', 'foo = ->\n  i = 0\n  alert j for j in [0...10]\n  i = i + 1', "'use strict'\nx = null\nf()", "'use strict'\n'directive'\nx = y = null\nf()", "f = ->\n  'use strict'\n  x = null\n  f()", "f = ->\n  'use strict'\n  'directive'\n  x = null\n  y = null\n  f()", "import React from 'react'\ny = null\nf = ->\n  'use strict'\n  x = null\n  y = null\n  f()", "'use strict'\nimport React from 'react'\ny = null\nf = ->\n  'use strict'\n  x = null\n  y = null\n  f()", "import React from 'react'\n'use strict'\ny = null\nf = ->\n  'use strict'\n  x = null\n  y = null\n  f()", "import * as foo from 'mod.js'\n'use strict'\ny = null\nf = ->\n  'use strict'\n  x = null\n  y = null\n  f()", "import { square, diag } from 'lib'\n'use strict'\ny = null\nf = ->\n  'use strict'\n  x = null\n  y = null\n  f()", "import { default as foo } from 'lib'\n'use strict'\ny = null\nf = ->\n  'use strict'\n  x = null\n  y = null\n  f()", "import 'src/mylib'\n'use strict'\ny = null\nf = ->\n  'use strict'\n  x = null\n  y = null\n  f()", "import theDefault, { named1, named2 } from 'src/mylib'\n'use strict'\ny = null\nf = ->\n  'use strict'\n  x = null\n  y = null\n  f()", 'export x = null\ny = null\nz = null', 'x = null\nexport y = null\nz = null', 'x = null\ny = null\nexport z = null'],
    invalid: [
      {
        code: 'first = 0\nfoo = ->\n  first = 2\n  second = 2\nsecond = 0',
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: 'foo = ->\n  first = null\n  first = 1\n  first = 2\n  first = 3\n  first = 4\n  second = 1\n  second = 2\n  first = second',
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: 'foo = ->\n  first = null\n  second = yes if yes\n  first = second',
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: 'foo = ->\n  first = 10\n  i = null\n  for i in [0...first]\n    second = i',
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: 'foo = ->\n  first = 10\n  i = null\n  switch first\n    when 10\n      hello = 1',
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: 'foo = ->\n  first = 10\n  i = null\n  try\n    hello = 1\n  catch e\n    alert \'error\'',
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: 'foo = ->\n  first = 10\n  i = null\n  try\n    asdf\n  catch e\n    hello = 1',
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: 'foo = ->\n  first = 10\n  while first\n    hello = 1',
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: 'foo = ->\n  first = [1, 2, 3]\n  item = null\n  for item in first\n    hello = item',
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: "'use strict'\n0\nx = null\nf()",
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: "f = ->\n  'use strict'\n  0\n  x = null\n  f()",
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: "import {foo} from 'foo'\nexport {foo}\ntest = 1",
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: "export {foo} from 'foo'\ntest = 1",
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      },
      {
        code: "export * from 'foo'\ntest = 1",
        errors: [
          {
            message: 'All declarations must be at the top of the function scope.',
            type: 'Identifier'
          }
        ]
      }
    ]
  });

}).call(this);
