// Generated by CoffeeScript 2.3.1
(function() {
  /**
   * @fileoverview Tests for no-unmodified-loop-condition rule.
   * @author Toru Nagashima
   */
  'use strict';
  var RuleTester, rule, ruleTester;

  //------------------------------------------------------------------------------
  // Requirements
  //------------------------------------------------------------------------------
  rule = require('../../rules/no-unmodified-loop-condition');

  ({RuleTester} = require('eslint'));

  ruleTester = new RuleTester({
    parser: '../../..'
  });

  ruleTester.run('no-unmodified-loop-condition', rule, {
    valid: ['foo = 0\nwhile foo\n  ++foo', 'foo = 0\n++foo while foo', 'foo = 0\n++foo until foo', 'foo = 0\nwhile foo\n  foo += 1', 'foo = 0\nwhile foo++\n  ;', 'foo = 0\nwhile foo = next()\n  ;', 'foo = 0\nwhile ok foo\n  ;', 'foo = 0\nbar = 0\nwhile ++foo < bar\n  ;', 'foo = 0\nobj = {}\nwhile foo is obj.bar\n  ;', 'foo = 0\nf = {}\nbar = {}\nwhile foo is f bar\n  ;', 'foo = 0\nf = {}\nwhile foo is f()\n  ;', 'foo = 0\ntag = 0\nwhile foo is tag"abc"\n  ;', '->\n  foo = 0\n  while yield foo\n    ;', '->\n  foo = 0\n  while foo is (yield)\n    ;', 'foo = 0\nwhile foo.ok\n  ;', 'foo = 0\nwhile foo\n  update()\nupdate = -> ++foo', 'foo = 0\nbar = 9\nwhile foo < bar\n  foo += 1', 'foo = 0\nbar = 1\nbaz = 2\nwhile (if foo then bar else baz)\n  foo += 1', 'foo = 0\nbar = 0\nwhile foo and bar\n  ++foo\n  ++bar', 'foo = 0\nbar = 0\nwhile foo or bar\n  ++foo\n  ++bar'],
    invalid: [
      {
        code: 'foo = 0\nwhile foo\n  ;\nfoo = 1',
        errors: ["'foo' is not modified in this loop."]
      },
      {
        code: 'foo = 0\nwhile not foo\n  ;\nfoo = 1',
        errors: ["'foo' is not modified in this loop."]
      },
      {
        code: 'foo = 0\nwhile foo != null\n  ;\nfoo = 1',
        errors: ["'foo' is not modified in this loop."]
      },
      {
        code: 'foo = 0\nbar = 9\nwhile foo < bar\n  ;\nfoo = 1',
        errors: ["'foo' is not modified in this loop.",
      "'bar' is not modified in this loop."]
      },
      {
        code: 'foo = 0\nbar = 0\nwhile foo and bar\n  ++bar\nfoo = 1',
        errors: ["'foo' is not modified in this loop."]
      },
      {
        code: 'foo = 0\nbar = 0\nwhile foo and bar\n  ++foo\nfoo = 1',
        errors: ["'bar' is not modified in this loop."]
      },
      {
        code: 'a = b = c = null\nwhile a < c and b < c\n  ++a\nfoo = 1',
        errors: ["'b' is not modified in this loop.",
      "'c' is not modified in this loop."]
      },
      {
        code: 'foo = 0\nwhile (if foo then 1 else 0)\n  ;\nfoo = 1',
        errors: ["'foo' is not modified in this loop."]
      },
      {
        code: 'foo = 0\nwhile foo\n  update()\nupdate = (foo) -> ++foo',
        errors: ["'foo' is not modified in this loop."]
      }
    ]
  });

}).call(this);
